import { html, LitElement } from 'lit-element'

export default class DashbirdGraph extends LitElement {
  static get properties() {
    return {
      autoPlay: {type: Boolean}
    }
  }
  constructor() {
    super()
  }
  dependenciesMet () {
    if (typeof TweenMax !== 'undefined') {
      return true
    } else {
      console.error(`Dependancy 'TweenMax' not found for DashbirdGraph`)
      return false
    }
  }
  firstUpdated () {
    if (this.dependenciesMet() && this.autoPlay) this.animate()
  }
  play () {
    this.animate()
  }
  animate () {
    const text = this.shadowRoot.querySelector('#test')
    TweenMax.to(text, 10, {transformOrigin: '50% 50%', rotation: 360, repeat: -1, ease: Linear.easeNone})
  }
  render () {
    return html`
      <style>
        :host {
          all: initial;
          font-family: sans-serif;
          width: 500px;
          height: 500px;
          display: block;
        }
        svg {
          width: 100%;
          height: 100%;
        }
      </style>
      <svg width="500" height="500" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
        <g fill="none" fill-rule="evenodd"><g transform="translate(46 10)"><circle stroke="#FFF" opacity=".2" cx="204" cy="240" r="119"/><circle stroke="#FFF" stroke-width="2" cx="204" cy="240" r="168"/><circle fill="#FFF" fill-rule="nonzero" cx="204" cy="13" r="4"/><g transform="translate(138 187)"><text opacity=".5" font-family="RenoMono-Regular, Reno Mono" font-size="8" letter-spacing=".075" fill="#FFF"><tspan x="32" y="6">invocations</tspan></text><text opacity=".5" font-family="RenoMono-Regular, Reno Mono" font-size="8" letter-spacing=".075" fill="#FFF"><tspan x="32" y="46">exeptions</tspan></text><text opacity=".5" font-family="RenoMono-Regular, Reno Mono" font-size="8" letter-spacing=".075" fill="#FFF"><tspan x="32" y="86">billed duration</tspan></text><text font-family="RenoMono-Regular, Reno Mono" font-size="21" letter-spacing="-.5" fill="#FFF"><tspan x="32" y="26">5 230 412</tspan></text><text font-family="RenoMono-Regular, Reno Mono" font-size="21" letter-spacing="-.5" fill="#FFF"><tspan x="32" y="66">5 123</tspan></text><text font-family="RenoMono-Regular, Reno Mono" font-size="21" letter-spacing="-.5" fill="#FFF"><tspan x="32" y="106">21s</tspan></text><circle stroke="#05F" cx="11.5" cy="15" r="11.5"/><g transform="translate(0 42)"><circle stroke="#FF6300" cx="11.5" cy="12" r="11.5"/><path d="M12.54 14.323h-2.224L10.176 6h2.505l-.141 8.323zM10 17.602c0-.194.032-.373.097-.537a1.247 1.247 0 0 1 .73-.716 1.66 1.66 0 0 1 .597-.101c.217 0 .413.034.589.101a1.264 1.264 0 0 1 .734.716c.067.164.1.343.1.537 0 .187-.033.363-.1.527a1.209 1.209 0 0 1-.286.422c-.123.117-.273.21-.448.277a1.634 1.634 0 0 1-.59.1 1.66 1.66 0 0 1-.597-.1 1.332 1.332 0 0 1-.448-.277 1.16 1.16 0 0 1-.281-.422 1.43 1.43 0 0 1-.097-.527z" fill="#FF6300"/></g><g transform="translate(0 82)" fill-rule="nonzero" stroke="#FFF"><circle cx="11.5" cy="12" r="11.5"/><path stroke-width="1.5" stroke-linecap="square" stroke-linejoin="bevel" d="M11.424 4v9.366l4.759-3.424"/></g><path fill="#05F" d="M21.28 8.36L9.49 20.807l-4.77-5.248 1.015-.95 3.822 4.116L20.265 7.378z"/></g><path d="M204.45 58.067c24.863-3.462 19.775-2.89 41.41-21.324 6.176-5.262-4.038 19.517 8.851 8.84 2.304-1.908 1.744-7.035 4.668-7.664 2.319-.499 3.666 3.445 4.176 5.762 1.07 4.868-2.347 10.776.379 14.949 2.685 4.112 8.617 4.999 13.394 6.137 4.461 1.062 9.541-1.485 13.754.328 2.906 1.25 2.97 5.735 5.305 7.87 7.525 6.888 11.276 4.226 27.254 18.204 15.978 13.978 26.337 27.975 29.035 31.039 2.698 3.064 3.23 4.392 4.34 6.86 4.193 9.322 6.521 19.505 11.527 28.417 9.778 17.41 20.788 21.955 34.781 35.368 7.207 6.907-23.688 6.933-13.754 13.324 6.15 3.955 14.532 3.114 20.864 6.77 1.461.843.652 3.723-.395 5.046-1.352 1.709-3.787 2.235-5.871 2.871-3.695 1.129-7.775.905-11.344 2.387-.377.157-3.202 3.294-9.273 10.395-3.178 3.717 7.554 5.777 7.34 10.335-.468 9.97-.64 20.03-2.496 29.836-1.339 7.067-5.235 13.436-7.02 20.403-1.482 5.783-1.383 11.886-2.742 17.699-8.42 36.001-40.847 58.35-66.426 83.64-8.227 8.135-24.39 7.676-34.133 11.301-6.74 2.509-12.489 7.17-18.996 10.235-23.273 10.962-85.57 9.189-107.55 2.433-12.427-3.818-24.37-9.105-36.258-14.363-8.376-3.704-15.64-10.066-24.47-12.496-20.444-5.627-20.444 2.89-31.368 14.191-3.35 3.467-17.558 17.105-18.506 12.391-1.77-8.796 33.3-62.173-6.38-22.965-10.694 10.568-12.87 14.632-23.155 22.38-2.85 2.146-11.42 7.708-11.39 4.14.2-25.311 33.447-50.704 36.96-73.766 2.594-17.027-29.726 22.638-25.75 7.574 4.27-16.18 21.162-17.88 11.363-43.746-1.767-4.665-7.28-6.852-10.511-10.652-1.313-1.543-2.325-3.37-3.028-5.27-2.677-7.233-6.214-14.366-7.078-22.03-2.84-25.19 14.916-40.917 16.188-64.204.51-9.352-5.677-10.952-2.028-25.004 3.65-14.052 5.76-3.667 15.39-26.445 9.632-22.779.226-24.674 15.669-47.012s32.29-20.115 42.793-37.55" stroke="#88D8FF" opacity=".5"/><path d="M204 62.148c26.297-4.136 50.078 11.371 76.558 3.816 33.654-9.603 39.874-50.761 70.232-64.616 1.876-.856 4.04-1.645 6.06-1.238 2.198.443 4.649 1.61 5.68 3.601 1.101 2.127.899 5.005-.094 7.185-4.091 8.984-10.705 16.665-14.848 25.626-2.382 5.152-13.668 23.927-11.424 27.725 1.986 3.364 6.652-4.23 9.386-7.02 5.563-5.68 27.986-35.876 37.51-36.862 1.592-.164.63 3.285.116 4.8-1.414 4.179-3.325 8.238-5.773 11.907-12.15 18.217-26.509 34.95-37.936 53.63-1.925 3.144 6.296-3.914 9.032-6.385 8.02-7.241 14.718-15.935 23.157-22.684 5.932-4.744 13.03-7.812 19.644-11.545 4.41-2.49 6.27 1.36 5.583 11.545C391.3 80 378.686 108.164 369.35 130.04c-.48 1.126-.393 3.21.77 3.596 4.291 1.422 22.646-6.174 22.326-2.364-1.685 20.118-21.247 30.399-17.406 43.242 3.646 12.193 2.119 36.54 2.119 48.892 0 21.411 5.773 33.471 1.527 54.353-.394 1.94-3.9 1.913-4.593 3.768-1.73 4.626-.883 9.874-2.29 14.639-2.453 8.3-1.522-2.012-9.013 13.28-7.491 15.293-5.94 9.459-13.099 31.859-1.278 3.998-2.364 8.103-4.982 11.267-11.032 13.336-28.973 17.385-41.063 29.331-3.694 3.65-5.414 9.459-9.947 11.993-4.721 2.638-10.869.901-16.028 2.525-13.083 4.118-25.027 11.852-38.46 14.626-22.185 4.581-80.39 6.093-101.815-6.2-5.511-3.161-9.018-9.105-14.386-12.504-23.682-14.994-36.218-14.208-52.685-35.122-4.195-5.328-5.445-12.491-9.146-18.174-13.435-20.623-21.301-18.687-27.728-46.237-5.492-23.545-6.932-80.38-3.873-103.025.463-3.428 2.648-6.446 4.593-9.306 10.33-15.188 20.9-30.234 32.167-44.74 23.965-30.857 19.915-34.759 35.95-45.689" stroke="#05F"/><circle fill="#446C80" fill-rule="nonzero" cx="90.5" cy="73.5" r="2.5"/><circle fill="#783D89" fill-rule="nonzero" cx="103.5" cy="89.5" r="2.5"/><circle fill="#E74B00" fill-rule="nonzero" cx="108.5" cy="96.5" r="2.5"/><path d="M204 65.026c26.213 1.241 46.316 8.445 72.137 14.224 4.992 1.117 19.208-5.183 22.894.422 2.127 3.234.354 8.234 2.735 11.285 7.433 9.525 7.708-1.77 15.113 2.629 6.974 4.144-3.641 6.671 5.781 8.578 3.162.64 28.448.391 31.758 4.012 2.095 2.291-4.845 4.529-5.41 7.582-.753 4.07 1.57 8.16 1.734 12.297.09 2.234-.192 5.577-.843 10.027l11.734 20.68 3.977 27.199c10.608 39.231 13.45 69.404 8.527 90.52C359.21 338.496 310.067 390.864 245.805 405c-32.043 7.048-92.034 14.583-124.285-9.586-8.087-6.06-13.616-15.167-21.871-20.996-22.463-15.862-7.955 8.25-13.582-11.758-.22-.78-1.272-1.008-1.942-1.465l-8.55-.882c-2.453-1.672-2.04-5.836-4.235-7.833-1.353-1.23-4.263.49-5.406-.937-1.434-1.79.447-4.918-.817-6.832-1.74-2.636-6.184-2.913-7.507-5.781-3.293-7.135-3.1-15.462-5.715-22.871-8.138-23.049-21.044-42.035-22.164-67.903-.65-15.024 2.653-30.025 2.257-45.058-.184-7.01-3.938-13.644-3.988-20.657-.056-7.937-2.337-11.444 3.988-22.261 6.326-10.818 10.106-9.4 19.497-17.903 9.39-8.503 7.578-11.984 16.367-20.066 8.788-8.082 15.936-6.863 21.2-12.95 3.82-4.415 10.597-8.517 19.507-12.714" stroke="#FF6300"/><path d="M204 72V15.844" stroke="#FFF" stroke-linecap="square"/></g></g>
        <g id="test">
          <circle cx="250" cy="250" r="170" style="fill:rgb(255,0,0,0.4);" />
          <text text-anchor="middle" x="250" y="256"  style="fill:red;font-size:30px;font-weight:thin;">Test-test-123</text>
        </g>
      </svg>
    `
  }
}

customElements.define('dashbird-graph', DashbirdGraph)